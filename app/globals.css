@import "tailwindcss";

/* Tailwind v4: explicitly tell it where to scan for class names */
@source "./**/*.{js,ts,jsx,tsx,mdx}";
@source "../components/**/*.{js,ts,jsx,tsx,mdx}";
@source "../lib/**/*.{js,ts,jsx,tsx,mdx}";

/* Theme tokens via CSS variables */
:root {
  --bg: 248 246 242; /* paper */
  --surface: 255 255 255; /* cards */
  --text: 18 24 31; /* ink */
  --muted: 95 104 115; /* secondary */
  --border: 228 231 236;

  --accent: 71 192 161; /* mint */
  --accent2: 255 160 182; /* sakura */
  --accent3: 175 166 255; /* lavender */

  --shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
  --ring: 0 0 0 4px rgba(71, 192, 161, 0.18);

  --lochmod: 0; /* 0/1 helper */

  --accent-fg: 10 10 12; /* dark text on mint in Day */
}

[data-theme="night"] {
  --bg: 12 14 18;
  --surface: 18 21 27;
  --text: 240 244 248;
  --muted: 167 177 189;
  --border: 42 48 58;

  --accent: 118 209 255; /* neon cyan */
  --accent2: 255 120 199; /* neon pink */
  --accent3: 163 255 138; /* neon green */

  --shadow: 0 14px 40px rgba(0, 0, 0, 0.55);
  --ring: 0 0 0 4px rgba(118, 209, 255, 0.22);
  --lochmod: 0;

  --accent-fg: 10 10 12; /* dark text on cyan in Night Tokyo */
}

/*
  Lochzilla:
  Keep the kaiju accents, but inherit the readable foreground from Night Tokyo
  so we don't get black-on-black text/icons.
*/
[data-theme="lochzilla"] {
  --bg: 10 10 12;

  /* Inherit Night Tokyo readability */
  --surface: 18 21 27;
  --text: 240 244 248;
  --muted: 167 177 189;
  --border: 42 48 58;

  /* Lochzilla accents */
  --accent: 255 45 85; /* kaiju alert */
  --accent2: 255 199 0; /* warning gold */
  --accent3: 0 209 255; /* shock cyan */

  --shadow: 0 14px 40px rgba(0, 0, 0, 0.55);
  --ring: 0 0 0 4px rgba(255, 45, 85, 0.22);
  --lochmod: 1;

  --accent-fg: 255 255 255; /* WHITE text on red */
}

html,
body {
  height: 100%;
}

body {
  background: rgb(var(--bg));
  color: rgb(var(--text));
}

/* tiny utility class so we can use theme vars without Tailwind config changes */
.bg-app {
  background: rgb(var(--bg));
}
.bg-surface {
  background: rgb(var(--surface));
}
.text-muted {
  color: rgb(var(--muted));
}
.border-app {
  border-color: rgb(var(--border));
}

.shadow-soft {
  box-shadow: var(--shadow);
}
.ring-soft:focus-visible {
  outline: none;
  box-shadow: var(--ring);
}

/* Lochzilla subtle texture / watermark */
.lochzilla-texture {
  position: relative;
}
.lochzilla-texture::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0.06;
  background-image:
    radial-gradient(
      circle at 20% 20%,
      rgba(255, 45, 85, 0.9) 0 2px,
      transparent 3px
    ),
    radial-gradient(
      circle at 80% 30%,
      rgba(255, 199, 0, 0.9) 0 2px,
      transparent 3px
    ),
    radial-gradient(
      circle at 60% 80%,
      rgba(0, 209, 255, 0.9) 0 2px,
      transparent 3px
    );
  background-size: 220px 220px;
  mix-blend-mode: multiply;
}

/* ------------------------------------------------------------
   LOCHZILLA MODE: A) Kaiju Alert HUD (scanlines + shimmer)
------------------------------------------------------------ */

@keyframes lochzillaScan {
  0% {
    transform: translateY(-6%);
  }
  100% {
    transform: translateY(6%);
  }
}

[data-theme="lochzilla"] body {
  position: relative;
}

/* scanlines + vignette */
[data-theme="lochzilla"] body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 10;

  /* scanlines (first layer) + vignette (second layer) */
  background-image:
    linear-gradient(
      to bottom,
      rgba(255, 255, 255, 0.04),
      rgba(255, 255, 255, 0) 2px
    ),
    radial-gradient(
      circle at 50% 40%,
      rgba(255, 45, 85, 0.1),
      rgba(0, 0, 0, 0.55) 60%,
      rgba(0, 0, 0, 0.78) 100%
    );

  background-size:
    100% 4px,
    100% 100%;
  mix-blend-mode: overlay;
  opacity: 0.6;
}

/* animated HUD shimmer */
[data-theme="lochzilla"] body::after {
  content: "";
  position: fixed;
  inset: -20%;
  pointer-events: none;
  z-index: 9;

  background-image: linear-gradient(
    120deg,
    rgba(255, 45, 85, 0) 0%,
    rgba(255, 45, 85, 0.1) 35%,
    rgba(0, 209, 255, 0.07) 55%,
    rgba(255, 199, 0, 0.04) 70%,
    rgba(255, 45, 85, 0) 100%
  );

  filter: blur(18px);
  opacity: 0.35;
  animation: lochzillaScan 10s ease-in-out infinite alternate;
  mix-blend-mode: screen;
}

/* ------------------------------------------------------------
   LOCHZILLA MODE: Graffiti background overlay
   Uses: /public/lochzilla-graffiti.webp
------------------------------------------------------------ */

[data-theme="lochzilla"] body {
  position: relative;
}

/* Put the graffiti behind everything */
[data-theme="lochzilla"] body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;

  /* brick wall + graffiti image */
  background-image: url("/lochzilla-graffiti.webp");
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;

  /* tune to taste */
  opacity: 1;
  filter: saturate(1) contrast(1) brightness(1);
}

/* Ensure all site content sits above the overlay */
[data-theme="lochzilla"] body > * {
  position: relative;
  z-index: 1;
}
